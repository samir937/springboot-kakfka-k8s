apiVersion: v1
kind: ConfigMap
metadata:
  name: springboot-kafka
data:
  application.yaml: |-
    server:
      port: 8082
    spring:
      application:
        name: spring-boot-kafka
      main:
        banner-mode: off
        cloud:
          kubernetes:
            enabled: true
            reload:
              enabled: true
              mode: event
              monitoring-config-maps: true
            config:
              sources:
                name: ${spring.application.name}
            discovery:
              all-namespaces: true
    
    spring-boot-kafka:
      kafka:
        bootstrap-servers: kafka-service.default.svc.cluster.local:9092
        group-id: order
        topics:
          create-order: create-order
    
    management:
      endpoints:
        web:
          exposure:
            include: health,prometheus
